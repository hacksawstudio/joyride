"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}();!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.returnExports=e(t.jQuery)}(this,function(t){var e="3.0.0",s=function(){function s(i,o){_classCallCheck(this,s),this.$element=i,this.options=t.extend({},s.defaults,this.$element.data(),o),this._init(),s.version=e,Foundation.registerPlugin(this,"Joyride"),Foundation.Keyboard.register("Joyride",{ltr:{ARROW_RIGHT:"next",ARROW_LEFT:"previous",ESCAPE:"close"},rtl:{ARROW_RIGHT:"previous",ARROW_LEFT:"next"}})}return _createClass(s,[{key:"_init",value:function(){this.id=this.$element.attr("id")||Foundation.GetYoDigits(6,"joyride"),this.current=0,this.$items=t([]),this.structure=this._parseList(),this._render(this.structure),this._events(),this.options.autostart&&this.start(-1)}},{key:"_parseList",value:function(){var e=[];return this.$element.find("li").each(function(i){var o=t.extend({},{text:t(this).html(),$target:t(t(this).data("target")),isModal:!t(t(this).data("target")).length,closable:s.defaults.closable},t(this).data());e.push(o)}),e}},{key:"_render",value:function(e){for(var s in e){var i,o=t.extend({},this.options,e[s]);if(o.$target.length){var r=new Foundation.Tooltip(e[s].$target,{positionClass:o.position,disableHover:!0,clickOpen:!1,tooltipClass:"tooltip joyride",triggerClass:"",hOffset:this.options.hOffset,vOffset:this.options.vOffset,showOn:"all"});this.structure[s].item=r,i=r.template,e[s].$target.addClass(this.options.joyrideTargetClass)}else{var n=new Foundation.Reveal(t('<div class="reveal joyride"/>').appendTo(t("body")),{closeOnClick:!1,closeOnEsc:!1});this.structure[s].item=n,i=n.$element}if(i.attr({"data-index":s,"data-joyride-for":e[s].target}).html(e[s].text),o.keyboardAccess&&i.attr("tabindex","-1"),this.$items=this.$items.add(i),e[s].nextText||o.showNext&&s<e.length-1||e[s].prevText||o.showPrev&&s>0){var a=t('<div class="joyride-buttons"/>');(e[s].prevText||o.showPrev&&s>0)&&a.append(t(this.options.prevButton).text(o.prevText)),(e[s].nextText||o.showNext&&s<e.length-1)&&a.append(t(this.options.nextButton).text(o.nextText)),i.append(a)}if(o.closable){var u=t(this.options.closeButton);u.find(".show-for-sr").text(this.options.closeText),i.prepend(u)}}}},{key:"showItem",value:function(e){var s=this,i=function(){this.structure[e].isModal?this.structure[e].item.open():this.structure[e].item.show(),this.options.keyboardAccess&&this.$items.eq(e).focus(),this.current=e,this.structure[e].$target.addClass(this.options.joyrideTargetActiveClass).trigger("show.zf.joyride"),t("body").addClass(this.options.bodyActiveClass)};if(this.structure[e].$target.length){var o=Math.max(0,this.structure[e].$target.offset().top-this.options.scrollOffset),r=Math.abs(o-t("body").scrollTop()),n=Math.min(this.options.scrollSpeed,Math.abs(r/(4*window.innerHeight))*this.options.scrollSpeed);t("html, body").stop().animate({scrollTop:o},n,"swing",function(){i.apply(s)})}else i.apply(s)}},{key:"hideItem",value:function(e){this.structure[e].isModal?this.structure[e].item.close():this.structure[e].item.hide(),this.structure[e].$target.removeClass(this.options.joyrideTargetActiveClass).trigger("hide.zf.joyride"),t("body").removeClass(this.options.bodyActiveClass)}},{key:"hideAll",value:function(){for(var t in this.structure)this.hideItem(t)}},{key:"showNext",value:function(){this.hideItem(this.current),this.showItem(this.current+1)}},{key:"showPrev",value:function(){this.hideItem(this.current),this.showItem(this.current-1)}},{key:"start",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];t>-1?this.hideAll():t=0,this.showItem(t)}},{key:"_events",value:function(){var e=this;t('[data-joyride-start="#'+e.id+'"]').click(function(){e.start()}),this.$items.on("click.zf.joyride","[data-joyride-next]",function(t){e.showNext()}).on("click.zf.joyride","[data-joyride-prev]",function(t){e.showPrev()}).on("click.zf.joyride","[data-joyride-close]",function(t){t.preventDefault(),e.structure[e.current].closable&&e.hideItem(e.current)}).on("keydown.zf.joyride",function(s){var i=t(this);Foundation.Keyboard.handleKey(s,"Joyride",{next:function(){i.data("index")<e.structure.length-1&&e.showNext()},previous:function(){i.data("index")>0&&e.showPrev()},close:function(){e.structure[e.current].closable&&e.hideItem(e.current)},handled:function(){s.preventDefault()}})})}},{key:"destroy",value:function(){this.$element.hide();for(var t in this.structure)this.structure[t].item.destroy(),this.structure[t].$target.removeClass(this.options.joyrideTargetClass+" "+this.options.joyrideTargetActiveClass);this.$element.trigger("destroyed.zf.joyride"),Foundation.unregisterPlugin(this)}}]),s}();return s.defaults={autostart:!1,scrollSpeed:1e3,keyboardAccess:!0,joyrideTargetClass:"joyride-target",joyrideTargetActiveClass:"joyride-is-active-target",bodyActiveClass:"joyride-is-open",closable:!0,nextText:"Next",prevText:"Previous",closeText:"Close",showNext:!0,showPrev:!0,vOffset:10,hOffset:12,scrollOffset:50,position:"top center",closeButton:'<a href="#close" class="close" data-joyride-close><span aria-hidden="true">&times</span><span class="show-for-sr"></span></a>',nextButton:'<button class="button" data-joyride-next></button>',prevButton:'<button class="button" data-joyride-prev></button>'},Foundation.plugin(s,"Joyride"),s});